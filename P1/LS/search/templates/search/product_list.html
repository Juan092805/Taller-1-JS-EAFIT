{% extends "base.html" %}
{% block title %}Productos{% endblock %}
{% block content %}
<h1 class="mb-3">Productos</h1>
<form method="get" class="row g-2 mb-3">
  <div class="col-md-5">
    <input name="q" class="form-control" placeholder="Buscar..." value="{{ request.GET.q }}">
  </div>
  <div class="col-md-5">
    <input name="category" class="form-control" placeholder="Categoría" value="{{ request.GET.category }}">
  </div>
  <div class="col-md-2">
    <button type="submit" class="btn btn-primary w-100">Filtrar</button>
  </div>
</form>
<div class="mb-3">
  <a href="{% url 'search:create' %}" class="btn btn-success">+ Nuevo</a>
</div>
<ul class="list-group">
  {% for p in products %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <div>
        <a href="{% url 'search:detail' p.pk %}">{{ p.name }}</a>
        <small class="text-muted d-block">Precio: ${{ p.price }}</small>
      </div>
      <a class="btn btn-outline-secondary" href="/wishlist/toggle/{{ p.pk }}/">⭐</a>
    </li>
  {% empty %}
    <li class="list-group-item">Sin resultados</li>
  {% endfor %}
</ul>
{% endblock %}
